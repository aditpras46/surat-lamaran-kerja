<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generator Surat Lamaran Kerja</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom scrollbar for better look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }

        .paper-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06), 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        /* A4 Ratio Hack for visual consistency */
        .a4-paper {
            min-height: 29.7cm; /* A4 height */
            /* width: 21cm; A4 width - handled by max-width in responsive layout */ 
        }

        @media print {
            body {
                background: white;
                color: black;
            }
            header, .no-print, button, .print-hidden, ::-webkit-scrollbar {
                display: none !important;
            }
            main {
                margin: 0;
                padding: 0;
                display: block;
                width: 100%;
            }
            .a4-paper {
                box-shadow: none;
                padding: 0 !important;
                margin: 0;
                width: 100%;
                min-height: auto;
                border: none;
            }
            /* Reset layout for print */
            .flex-col {
                display: block;
            }
            .lg\:flex-row {
                display: block;
            }
            section {
                padding: 0 !important;
            }
        }
    </style>
</head>
<body class="min-h-screen bg-slate-50 text-slate-800 pb-10">

    <!-- Header -->
    <header class="bg-white border-b border-slate-200 sticky top-0 z-20 print-hidden backdrop-blur-sm bg-white/90">
        <div class="max-w-7xl mx-auto px-4 py-4 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="p-2 bg-indigo-600 rounded-lg text-white">
                    <i data-lucide="file-text" width="24" height="24"></i>
                </div>
                <div>
                    <h1 class="text-xl font-bold text-slate-800 tracking-tight">Lamaran<span class="text-indigo-600">Pro</span></h1>
                    <p class="text-xs text-slate-500 font-medium">Generator Surat Lamaran Instan</p>
                </div>
            </div>
            <div class="hidden md:block text-sm text-slate-500">
                Buat surat lamaran profesional dalam hitungan detik
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto mt-8 px-4 flex flex-col lg:flex-row gap-8 items-start">
        
        <!-- Form Section (Sticky on Desktop) -->
        <!-- Removed 'order-2 lg:order-1' to allow natural flow (Top on mobile, Left on desktop) -->
        <section class="flex-1 lg:sticky lg:top-24 h-fit print-hidden w-full">
            <div class="bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden">
                <div class="p-6 border-b border-slate-100 bg-slate-50/50">
                    <h2 class="text-lg font-bold flex items-center gap-2 text-slate-800">
                        <i data-lucide="pen-line" class="text-indigo-600" width="20"></i> Editor Data
                    </h2>
                    <p class="text-sm text-slate-500 mt-1">Lengkapi formulir di bawah ini, surat akan tertulis otomatis.</p>
                </div>

                <div class="p-6 space-y-8 max-h-[80vh] overflow-y-auto custom-scrollbar">
                    
                    <!-- Group: Personal Info -->
                    <div class="space-y-4">
                        <h3 class="text-xs font-bold uppercase tracking-wider text-slate-400 flex items-center gap-2">
                            <i data-lucide="user" width="14"></i> Data Diri
                        </h3>
                        <div class="grid grid-cols-1 gap-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-1.5">Nama Lengkap</label>
                                <input type="text" id="input-fullName" placeholder="Contoh: Budi Santoso"
                                    class="w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:bg-white transition-all outline-none text-sm">
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-semibold text-slate-700 mb-1.5">Email</label>
                                    <input type="email" id="input-email" placeholder="email@anda.com"
                                        class="w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:bg-white transition-all outline-none text-sm">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-slate-700 mb-1.5">No. HP / WA</label>
                                    <input type="tel" id="input-phone" placeholder="0812xxxx"
                                        class="w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:bg-white transition-all outline-none text-sm">
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-semibold text-slate-700 mb-1.5">Kota Domisili</label>
                                    <input type="text" id="input-city" placeholder="Jakarta" value="Jakarta"
                                        class="w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:bg-white transition-all outline-none text-sm">
                                </div>
                                <div class="col-span-1">
                                     <label class="block text-sm font-semibold text-slate-700 mb-1.5">Alamat Singkat</label>
                                     <input type="text" id="input-address" placeholder="Jl. Mawar No. 10..."
                                        class="w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:bg-white transition-all outline-none text-sm">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="border-t border-slate-100"></div>

                    <!-- Group: Target -->
                    <div class="space-y-4">
                         <h3 class="text-xs font-bold uppercase tracking-wider text-slate-400 flex items-center gap-2">
                            <i data-lucide="building-2" width="14"></i> Tujuan Lamaran
                        </h3>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-1.5">Penerima Surat (Yth.)</label>
                                <input type="text" id="input-recipientName" placeholder="Bapak/Ibu HRD Manager" value="Bapak/Ibu HRD"
                                    class="w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:bg-white transition-all outline-none text-sm">
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-semibold text-slate-700 mb-1.5">Nama Perusahaan</label>
                                    <input type="text" id="input-companyName" placeholder="PT. Sukses Jaya"
                                        class="w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:bg-white transition-all outline-none text-sm">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-slate-700 mb-1.5">Posisi Dilamar</label>
                                    <input type="text" id="input-position" placeholder="Staff Admin"
                                        class="w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:bg-white transition-all outline-none text-sm">
                                </div>
                            </div>
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-1.5">Alamat Perusahaan (Opsional)</label>
                                <input type="text" id="input-companyAddress" placeholder="Jl. Sudirman No. 1..."
                                    class="w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:bg-white transition-all outline-none text-sm">
                            </div>
                        </div>
                    </div>

                    <div class="border-t border-slate-100"></div>

                    <!-- Group: Skills -->
                    <div class="space-y-4">
                         <h3 class="text-xs font-bold uppercase tracking-wider text-slate-400 flex items-center gap-2">
                            <i data-lucide="sparkles" width="14"></i> Isi Tambahan
                        </h3>
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-1.5">Skill & Pengalaman Singkat</label>
                            <textarea id="input-skills" rows="4" placeholder="Saya memiliki pengalaman selama 2 tahun di bidang administrasi, mahir menggunakan Ms. Office, dan teliti dalam bekerja..."
                                class="w-full p-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 focus:bg-white transition-all outline-none text-sm leading-relaxed"></textarea>
                            <p class="text-xs text-slate-400 mt-2 text-right">Akan muncul di paragraf ke-3</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Preview Section -->
        <!-- Removed 'order-1 lg:order-2' to allow natural flow (Bottom on mobile, Right on desktop) -->
        <section class="flex-[1.4] flex flex-col items-center w-full">
            
            <!-- Toolbar -->
            <div class="w-full max-w-[21cm] mb-6 flex justify-between items-center bg-white p-3 rounded-xl shadow-sm border border-slate-200 print-hidden sticky top-4 z-10">
                <div class="flex items-center gap-2 px-2">
                    <div class="w-3 h-3 rounded-full bg-red-400"></div>
                    <div class="w-3 h-3 rounded-full bg-amber-400"></div>
                    <div class="w-3 h-3 rounded-full bg-green-400"></div>
                    <span class="ml-2 text-xs font-semibold text-slate-400 uppercase tracking-wide">Pratinjau</span>
                </div>
                <div class="flex gap-2">
                   <button onclick="handleCopy()" id="btn-copy"
                    class="flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold transition-all bg-slate-100 text-slate-600 hover:bg-slate-200 hover:text-slate-800 active:scale-95">
                        <i data-lucide="copy" width="16"></i> <span id="btn-copy-text">Salin</span>
                    </button>
                    <button onclick="window.print()"
                        class="flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-semibold hover:bg-indigo-700 shadow-md shadow-indigo-200 hover:shadow-lg hover:shadow-indigo-300 transition-all active:scale-95">
                        <i data-lucide="printer" width="16"></i> Simpan PDF
                    </button>
                </div>
            </div>

            <!-- The Letter Paper (A4 Style) -->
            <div class="w-full max-w-[21cm] bg-white paper-shadow a4-paper p-8 md:p-12 lg:p-[2.5cm] text-black leading-relaxed text-justify relative group transition-all" id="letter-content">
                
                <!-- Hover Effect for Print Hint -->
                <div class="absolute inset-0 bg-indigo-900/5 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none flex items-center justify-center print-hidden rounded-sm">
                    <span class="bg-white/90 px-4 py-2 rounded-full text-xs font-medium text-indigo-600 shadow-sm backdrop-blur-sm">Tampilan Cetak</span>
                </div>

                <!-- Header Date & Hal -->
                <div class="flex justify-end mb-8 font-serif">
                    <p><span id="preview-city">Kota</span>, <span id="preview-date">Tanggal</span></p>
                </div>

                <div class="mb-8 font-serif">
                    <p>Perihal: Lamaran Pekerjaan - <span id="preview-position-header" class="font-medium">[Posisi]</span></p>
                    <div class="mt-6">
                        <p>Kepada Yth.,</p>
                        <p class="font-bold text-lg" id="preview-recipientName">Bapak/Ibu Pimpinan</p>
                        <p class="font-bold text-lg" id="preview-companyName">[Nama Perusahaan]</p>
                        <p id="preview-companyAddress" class="hidden text-slate-700"></p>
                        <p>di Tempat</p>
                    </div>
                </div>

                <!-- Body -->
                <div class="space-y-4 font-serif text-[1.05rem] leading-[1.8]">
                    <p>Dengan hormat,</p>
                    
                    <p>
                        Berdasarkan informasi yang saya peroleh, perusahaan Bapak/Ibu sedang membuka lowongan pekerjaan. Melalui surat ini, saya bermaksud untuk melamar pekerjaan dan bergabung dengan <span id="preview-companyName-body">perusahaan Bapak/Ibu</span> untuk posisi sebagai <strong><span id="preview-position-body">[Posisi]</span></strong>.
                    </p>

                    <p>Berikut adalah data diri singkat saya:</p>
                    
                    <div class="pl-4 md:pl-8 my-4">
                        <table class="w-full max-w-lg">
                            <tbody class="align-top">
                                <tr>
                                    <td class="w-36 md:w-44 py-1">Nama</td>
                                    <td class="py-1">: <span id="preview-fullName" class="font-medium">[Nama Lengkap]</span></td>
                                </tr>
                                <tr>
                                    <td class="py-1">Alamat</td>
                                    <td class="py-1">: <span id="preview-address">[Alamat Lengkap]</span></td>
                                </tr>
                                <tr>
                                    <td class="py-1">No. Handphone</td>
                                    <td class="py-1">: <span id="preview-phone">[Nomor Telepon]</span></td>
                                </tr>
                                <tr>
                                    <td class="py-1">Email</td>
                                    <td class="py-1">: <span id="preview-email">[Email]</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <p id="preview-skills">
                        Saya memiliki motivasi kerja yang tinggi, mampu bekerja secara mandiri maupun dalam tim, serta bersedia untuk terus belajar dan mengembangkan diri. [Isi bagian keahlian di formulir untuk melengkapi paragraf ini].
                    </p>

                    <p>
                        Sebagai bahan pertimbangan, saya lampirkan kelengkapan data diri saya (Curriculum Vitae) dan dokumen pendukung lainnya bersama surat ini. Besar harapan saya untuk dapat diberikan kesempatan wawancara agar saya dapat menjelaskan lebih detail mengenai potensi dan kemampuan yang saya miliki.
                    </p>

                    <p>Demikian surat lamaran ini saya buat. Atas perhatian dan kesempatan yang Bapak/Ibu berikan, saya ucapkan terima kasih.</p>
                </div>

                <!-- Footer -->
                <div class="mt-16 font-serif">
                    <p>Hormat saya,</p>
                    <div class="h-24"></div> <!-- Space for signature -->
                    <p class="font-bold underline text-lg" id="preview-fullName-sign">( Nama Lengkap )</p>
                </div>
            </div>
            
            <p class="text-center text-xs text-slate-400 mt-8 mb-4 print-hidden bg-white/50 px-4 py-2 rounded-full">
                Tips: Gunakan ukuran kertas <b>A4</b> saat mencetak atau menyimpan PDF.
            </p>
        </section>
    </main>

    <script>
        // Initialize Lucide Icons
        lucide.createIcons();

        // Constants
        const DEFAULT_SKILLS = 'Saya memiliki motivasi kerja yang tinggi, mampu bekerja secara mandiri maupun dalam tim, serta bersedia untuk terus belajar dan mengembangkan diri. [Isi bagian keahlian di formulir untuk melengkapi paragraf ini].';

        // Element Selectors
        const inputs = {
            fullName: document.getElementById('input-fullName'),
            city: document.getElementById('input-city'),
            email: document.getElementById('input-email'),
            phone: document.getElementById('input-phone'),
            address: document.getElementById('input-address'),
            recipientName: document.getElementById('input-recipientName'),
            companyName: document.getElementById('input-companyName'),
            companyAddress: document.getElementById('input-companyAddress'),
            position: document.getElementById('input-position'),
            skills: document.getElementById('input-skills')
        };

        const previews = {
            fullName: document.getElementById('preview-fullName'),
            fullNameSign: document.getElementById('preview-fullName-sign'),
            city: document.getElementById('preview-city'),
            date: document.getElementById('preview-date'),
            positionHeader: document.getElementById('preview-position-header'),
            positionBody: document.getElementById('preview-position-body'),
            recipientName: document.getElementById('preview-recipientName'),
            companyName: document.getElementById('preview-companyName'),
            companyNameBody: document.getElementById('preview-companyName-body'),
            companyAddress: document.getElementById('preview-companyAddress'),
            address: document.getElementById('preview-address'),
            phone: document.getElementById('preview-phone'),
            email: document.getElementById('preview-email'),
            skills: document.getElementById('preview-skills')
        };

        // Date Setup
        const dateOptions = { year: 'numeric', month: 'long', day: 'numeric' };
        previews.date.textContent = new Date().toLocaleDateString('id-ID', dateOptions);

        // Update Functions
        function updatePreview() {
            // Full Name
            const nameVal = inputs.fullName.value || '[Nama Lengkap]';
            previews.fullName.textContent = nameVal;
            previews.fullNameSign.textContent = inputs.fullName.value || '( Nama Lengkap )';

            // City
            previews.city.textContent = inputs.city.value || 'Kota';

            // Contact
            previews.email.textContent = inputs.email.value || '[Email]';
            previews.phone.textContent = inputs.phone.value || '[Nomor Telepon]';
            previews.address.textContent = inputs.address.value || '[Alamat Lengkap]';

            // Position
            const posVal = inputs.position.value || '[Posisi]';
            previews.positionHeader.textContent = posVal;
            previews.positionBody.textContent = posVal;

            // Company & Recipient
            previews.recipientName.textContent = inputs.recipientName.value || 'Bapak/Ibu Pimpinan';
            
            const companyVal = inputs.companyName.value;
            previews.companyName.textContent = companyVal || '[Nama Perusahaan]';
            previews.companyNameBody.textContent = companyVal ? `perusahaan ${companyVal}` : 'perusahaan Bapak/Ibu';

            // Company Address
            if (inputs.companyAddress.value) {
                previews.companyAddress.textContent = inputs.companyAddress.value;
                previews.companyAddress.classList.remove('hidden');
            } else {
                previews.companyAddress.classList.add('hidden');
            }

            // Skills
            previews.skills.textContent = inputs.skills.value || DEFAULT_SKILLS;
        }

        // Event Listeners
        Object.values(inputs).forEach(input => {
            input.addEventListener('input', updatePreview);
        });

        // Copy Functionality
        function handleCopy() {
            const letterText = document.getElementById('letter-content').innerText;
            const btn = document.getElementById('btn-copy');
            const btnText = document.getElementById('btn-copy-text');
            
            navigator.clipboard.writeText(letterText).then(() => {
                const originalClass = btn.className;
                const originalHTML = btn.innerHTML;

                btn.className = "flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold transition-all bg-emerald-100 text-emerald-700 shadow-inner";
                btn.innerHTML = `<i data-lucide="check" width="16"></i> Tersalin!`;
                lucide.createIcons();

                setTimeout(() => {
                    btn.className = originalClass;
                    btn.innerHTML = originalHTML;
                    lucide.createIcons();
                }, 2000);
            }).catch(err => {
                alert('Gagal menyalin teks');
            });
        }

        // Initial Run
        updatePreview();
    </script>
</body>
</html>